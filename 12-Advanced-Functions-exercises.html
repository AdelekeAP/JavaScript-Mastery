<!DOCTYPE html>
<html>
<head>
  <title>App</title>
  <style></style>

</head>
<body>
  <button onclick="oneSecond()" class="start-button">
    start
  </button>

  <p >
    <button onclick="cart()" class="cart-button">Add to cart</button>
    <p class="added"></p>
  </p>


  <button onclick="
  messages++;
  displayNotification();">add</button>
  <button onclick="
  
  if(messages > 0){
    messages--
    
    
    if(messages === 0){
      stopNotification();
    }
  }
  ">remove</button>
  
  <script>
    let messages = 2;
    let intervalId;
    let isDisplayingNotification = false;



    function displayNotification(){
      if(!isDisplayingNotification){
        intervaliD = setInterval((function(){
          if(document.title === 'App'){
            document.title = `${messages} New Messages`
          }else{
            document.title = 'App'
          }
        }),1000)
      }else{
        stopNotification();
      }
    }

    function stopNotification(){
      isDisplayingNotification = false;
      clearInterval(intervalId);
      document.title = 'App';
    }
    
    setInterval((function(){
      if(document.title === 'App'){
        document.title = `${messages} New Messages`
      }else{
        document.title = 'App'
      }
    }),1000)


    let timeoutId;
    function cart(){
      const para = document.querySelector(".added");
      para.innerHTML = 'Added';
      clearTimeout(timeoutId);
      timeoutId = setTimeout(function(){
        para.innerHTML = ''
      },2000);
    }


    function oneSecond(){
      const button = document.querySelector(".start-button");
      button.innerHTML = "loading..."
      setTimeout(function(){
        if(button.innerText === 'loading...'){
          button.innerHTML = 'Finished';
        }
      },1000)
    }


    // const add = function(){
    //   console.log(2+3);
    // }
    // add();
    // add();


    // function runTwice(fun){
    //   fun();
    //   fun();
    // }

    // runTwice(function(){
    //   console.log('12b')
    // })

    // runTwice(add);
    

    

  </script>
</body> 

</html>